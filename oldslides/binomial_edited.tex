   \documentclass[handout]{beamer}



   \mode<presentation>
   {
     \usetheme{PaloAlto}
   \setbeamertemplate{footline}[page number]

     \setbeamercolor{sidebar}{bg=white, fg=black}
     \setbeamercolor{frametitle}{bg=white, fg=black}
     % or ...
     \setbeamercolor{logo}{bg=white}
     \setbeamercolor{block body}{parent=normal text,bg=white}
     \setbeamercolor{author in sidebar}{fg=black}
     \setbeamercolor{title in sidebar}{fg=black}


     \setbeamercolor*{block title}{use=structure,fg=structure.fg,bg=structure.fg!20!bg}
     \setbeamercolor*{block title alerted}{use=alerted text,fg=alerted text.fg,bg=alerted text.fg!20!bg}
     \setbeamercolor*{block title example}{use=example text,fg=example text.fg,bg=example text.fg!20!bg}


     \setbeamercolor{block body}{parent=normal text,use=block title,bg=block title.bg!50!bg}
     \setbeamercolor{block body alerted}{parent=normal text,use=block title alerted,bg=block title alerted.bg!50!bg}
     \setbeamercolor{block body example}{parent=normal text,use=block title example,bg=block title example.bg!50!bg}

     % or ...

     \setbeamercovered{transparent}
     % or whatever (possibly just delete it)
     \logo{\resizebox{!}{1.5cm}{\href{\basename{R}}{\includegraphics{image}}}}
   }

   \mode<handout>
   {
     \usetheme{PaloAlto}
     \usecolortheme{default}
     \setbeamercolor{sidebar}{bg=white, fg=black}
     \setbeamercolor{frametitle}{bg=white, fg=black}
     % or ...
     \setbeamercolor{logo}{bg=white}
     \setbeamercolor{block body}{parent=normal text,bg=white}
     \setbeamercolor{author in sidebar}{fg=black}
     \setbeamercolor{title in sidebar}{fg=black}
     \setbeamercovered{transparent}
     % or whatever (possibly just delete it)
     \logo{}
   }

   \usepackage{epsdice}
   \usepackage[latin1]{inputenc}
   \usepackage{graphics}
   \usepackage{amsmath,eepic,epic}

   \newcommand{\figslide}[3]{
   \begin{frame}
   \frametitle{#1}
     \begin{center}
     \resizebox{!}{2.7in}{\includegraphics{#2}}    
     \end{center}
   {#3}
   \end{frame}
   }

   \newcommand{\fighslide}[4]{
   \begin{frame}
   \frametitle{#1}
     \begin{center}
     \resizebox{!}{#4}{\includegraphics{#2}}    
     \end{center}
   {#3}
   \end{frame}
   }

   \newcommand{\figwref}[1]{
   \href{#1}{\tiny \tt #1}}

   \newcommand{\B}[1]{\beta_{#1}}
   \newcommand{\Bh}[1]{\widehat{\beta}_{#1}}
   \newcommand{\V}{\text{Var}}
   \newcommand{\Cov}{\text{Cov}}
   \newcommand{\Vh}{\widehat{\V}}
   \newcommand{\s}{\sigma}
   \newcommand{\sh}{\widehat{\sigma}}

   \newcommand{\argmax}[1]{\mathop{\text{argmax}}_{#1}}
   \newcommand{\argmin}[1]{\mathop{\text{argmin}}_{#1}}
   \newcommand{\Ee}{\mathbb{E}}
   \newcommand{\Pp}{\mathbb{P}}
   \newcommand{\real}{\mathbb{R}}
   \newcommand{\Ybar}{\overline{Y}}
   \newcommand{\Yh}{\widehat{Y}}
   \newcommand{\Xbar}{\overline{X}}
   \newcommand{\Tr}{\text{Tr}}


   \newcommand{\model}{{\cal M}}

   \newcommand{\figvskip}{-0.7in}
   \newcommand{\fighskip}{-0.3in}
   \newcommand{\figheight}{3.5in}

   \newcommand{\Rcode}[1]{{\bf \tt #1 }}
   \newcommand{\Rtcode}[1]{{\tiny \bf \tt #1 }}
   \newcommand{\Rscode}[1]{{\small \bf \tt #1 }}

   \newcommand{\RR}{{\tt R} \;}
   \newcommand{\basename}[1]{http://stats60.stanford.edu/#1}
   \newcommand{\dataname}[1]{\basename{data/#1}}
   \newcommand{\Rname}[1]{\basename{R/#1}}

   \newcommand{\mycolor}[1]{{\color{blue} #1}}
   \newcommand{\basehref}[2]{\href{\basename{#1}}{\mycolor{#2}}}
   \newcommand{\Rhref}[2]{\href{\basename{R/#1}}{\mycolor{#2}}}
   \newcommand{\datahref}[2]{\href{\dataname{#1}}{\mycolor{#2}}}
   \newcommand{\X}{\pmb{X}}
   \newcommand{\Y}{\pmb{Y}}
   \newcommand{\be}{\pmb{varepsilon}}
   \newcommand{\logit}{\text{logit}}


   \title{Statistics 60: Introduction to Statistical Methods}
   \subtitle{Chapter 15: The binomial formula} 
   \author{}% {Jonathan Taylor \\
   %Department of Statistics \\
   %Stanford University
   %}


   \begin{document}

   \begin{frame}
   \titlepage
   \end{frame}

   %CODE
       % from matplotlib import rc
   % import pylab, numpy as np, sys
   % np.random.seed(0);import random; random.seed(0)
   % dx = 0.02
   % X, Y = np.mgrid[0:1:4j,0:1:1j]
   % X += np.random.uniform(0,1,X.shape) * dx - dx / 2
   % Y += np.random.uniform(0,1,Y.shape) * dx - dx / 2
   % 
   % X.shape = -1; Y.shape = -1
   % 
   % g = np.arange(24)
   % np.random.shuffle(g)
   % pylab.scatter(X,Y,s=900, c='r', alpha=0.5)
   % for i in range(4):
   %     pylab.text(X[i], Y[i], `i+1`, color='black', ha='center', va='center')
   % pylab.gca().set_xticks([])
   % pylab.gca().set_yticks([])
   % pylab.gca().set_xlim([X.min()-0.1,X.max()+0.1])
   % pylab.gca().set_ylim([Y.min()-0.1,Y.max()+0.1])
   % 
   % pylab.show()
   % 


   \begin{frame}
   \frametitle{Box with 4 red balls}
   \begin{center}
   \resizebox{!}{2.7in}{\includegraphics{./images/inline/c12885ab15.pdf}}    
   \end{center}

   \end{frame}

   %CODE
       % from matplotlib import rc
   % import pylab, numpy as np, sys
   % np.random.seed(0);import random; random.seed(0)
   % import itertools
   % 
   % dx = 0.02
   % Yl = np.linspace(0,1,24)
   % Xl = np.linspace(0,1,4)
   % X, Y = np.mgrid[0:1:4j,0:1:24j]
   % # X += np.random.uniform(0,1,X.shape) * dx - dx / 2
   % # Y += np.random.uniform(0,1,Y.shape) * dx - dx / 2
   % 
   % X.shape = -1; Y.shape = -1
   % 
   % g = np.arange(24)
   % pylab.scatter(X,Y,s=130, c='r', alpha=0.5)
   % cs = [c for c in itertools.permutations(range(4))][::-1]
   % for i, c in enumerate(cs):
   %     for j in range(4):
   %         pylab.text(Xl[j], Y[i], `c[j]`, color='black', ha='center', va='center')
   % for j in range(4):
   %     pylab.text(Xl[j], 1.1, "Draw %d" % (j+1), color='black', ha='center', va='center')
   % pylab.gca().set_xticks([])
   % pylab.gca().set_yticks([])
   % pylab.gca().set_xlim([X.min()-0.1,X.max()+0.1])
   % pylab.gca().set_ylim([Y.min()-0.1,Y.max()+0.2])
   % 
   % pylab.show()
   % 


   \begin{frame}
   \frametitle{Box with 4 red balls}
   \begin{center}
   \resizebox{!}{2.7in}{\includegraphics{./images/inline/2bf49a0e13.pdf}}    
   \end{center}
   There are 24 possible ways to order the 4 balls.
   \end{frame}

   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   \begin{frame} \frametitle{Binomial formula}

   \begin{block}
   {Counting the ways of ordering the balls}
   We arrive at 24 as follows:
   \begin{description}

   \item[Draw 1] There are 4 choices.

   \item[Draw 2] There are 3 choices.

   \item[Draw 3] There are 2 choices.

   \item[Draw 4] There is only one choice.
   \end{description}

   Hence, there are $4 \times 3 \times 2 \times 1 = 24$ ways
   of ordering the balls.
   \end{block}

   \begin{block}
   {Factorial}

   For an integer, $n$
   $$
   n! = n \times (n-1) \times (n-2) \times \dots \times 3 \times 2 \times 1.
   $$

   Example: $5! = 5 \times 4 \times 3 \times 2 \times 1 = 120$.
   \end{block}
   \end{frame}

   %CODE
       % from matplotlib import rc
   % import pylab, numpy as np, sys
   % np.random.seed(0);import random; random.seed(0)
   % import itertools
   % dx = 0.02
   % X, Y = np.mgrid[0.3:0.7:2j,0:1:12j]
   % 
   % X.shape = -1; Y.shape = -1
   % Xl = [0.3, 0.7]
   % g = np.arange(12)
   % pylab.scatter(X,Y,s=300, c='r', alpha=0.5)
   % cs = []
   % for d in [c for c in itertools.combinations(range(4), 2)][::-1]:
   %     cs.append(d); cs.append(d[::-1])
   % for i, c in enumerate(cs):
   %     for j in range(2):
   %         pylab.text(Xl[j], Y[i], `c[j]`, color='black', ha='center', va='center')
   % for j in range(2):
   %     pylab.text(Xl[j], 1.1, "Draw %d" % (j+1), color='black', ha='center', va='center')
   % pylab.gca().set_xticks([])
   % pylab.gca().set_yticks([])
   % pylab.gca().set_xlim([X.min()-0.1,X.max()+0.1])
   % pylab.gca().set_ylim([Y.min()-0.1,Y.max()+0.2])
   % 
   % pylab.show()
   % 


   \begin{frame}
   \frametitle{Box with 4 red balls}
   \begin{center}
   \resizebox{!}{2.7in}{\includegraphics{./images/inline/4d0bf3a7ad.pdf}}    
   \end{center}
   There are 12 possible ways to draw two balls in order.
   \end{frame}

   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   \begin{frame} \frametitle{Binomial formula}

   \begin{block}
   {Counting the ways of ordering the balls}
   We arrive at 12 as follows:
   \begin{description}

   \item[Draw 1] There are 4 choices.

   \item[Draw 2] There are 3 choices.

   \end{description}

   Hence, there are $4 \times 3 = 12 = 4! / 2!$ ways
   of ordering the balls.
   \end{block}

   \begin{block}
   {Drawing $k$ balls out of $n$, in order}

   The number of ways of drawing $k$ balls without replacement (in order)
   from $n$ is
   $$
   \frac{n!}{(n-k)!}
   $$

   Example: the number of ways of choosing 5 balls from 7 in order is
   $7! / 5! = 7 \times 6 = 42.$
   \end{block}
   \end{frame}

   %CODE
       % from matplotlib import rc
   % import pylab, numpy as np, sys
   % np.random.seed(0);import random; random.seed(0)
   % import itertools
   % 
   % dx = 0.02
   % X, Y = np.mgrid[0.4:0.6:2j,0:1:6j]
   % 
   % X.shape = -1; Y.shape = -1
   % Xl = [0.4, 0.6]
   % g = np.arange(12)
   % pylab.scatter(X,Y,s=500, c='r', alpha=0.8)
   % cs = []
   % for d in [c for c in itertools.combinations(range(4), 2)][::-1]:
   %     cs.append(d)
   % for i, c in enumerate(cs):
   %     xf, yf = pylab.poly_between([Xl[0]-0.07,Xl[1]+0.07], [Y[i]-0.07]*2, [Y[i]+0.07]*2)
   %     pylab.fill(xf,yf, color='gray', alpha=0.1, edgecolor='black', linewidth=3)
   %     for j in range(2):
   %         pylab.text(Xl[j], Y[i], `c[j]`, color='black', ha='center', va='center')
   % 
   % pylab.text(0.5, 1.1, "Draw (ignoring order)" , color='black', ha='center', va='center')
   % pylab.gca().set_xticks([])
   % pylab.gca().set_yticks([])
   % pylab.gca().set_xlim([X.min()-0.1,X.max()+0.1])
   % pylab.gca().set_ylim([Y.min()-0.1,Y.max()+0.2])
   % 
   % pylab.show()
   % 


   \begin{frame}
   \frametitle{Box with 4 red balls}
   \begin{center}
   \resizebox{!}{2.7in}{\includegraphics{./images/inline/9133f4fdf6.pdf}}    
   \end{center}
   There are 6 possible ways to draw two balls ignoring order.
   \end{frame}

   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   \begin{frame} \frametitle{Binomial formula}

   \begin{block}
   {Counting the ways of ordering the balls}
   We arrive at 6 as follows:
   \begin{description}

   \item[Draw 1] There are 4 choices.

   \item[Draw 2] There are 3 choices.

   \item[Ignoring order] When we ignore the order,
   each possible unordered draw corresponds to 2! ordered draws.
   \end{description}

   Hence, there are $4 \times 3 / 2! = 12 / 2 = 6$ ways
   of drawing 2 balls out of 4, ignoring order.
   \end{block}
   \end{frame}

   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   \begin{frame} \frametitle{Binomial formula}

   \begin{block}
   {Drawing $k$ balls out of $n$, ignoring order}

   The number of ways of drawing $k$ balls without replacement (ignoring order)
   from $n$ is
   $$
   \frac{n!}{k! \times (n-k)!}
   $$

   Example: the number of ways of choosing 5 balls from 7 ignoring order is
   $7! / (5! 2!) = 7 \times 6 /2  = 21.$
   \end{block}

   \begin{block}
   {Binomial coefficient}

   Defined as
   $$
   \binom{n}{k} = \frac{n!}{k! \times (n-k)!} \quad \left(= \binom{n}{n-k} \right)
   $$
   \end{block}
   \end{frame}

   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   \begin{frame} \frametitle{Binomial formula}

   \begin{block}
   {Example}

   \begin{description}
   \item[Q]    When flipping a coin 10 times, how many outcomes are there
   with 7 heads?

   \item[A] We can represent this as drawing 7 out of a possible
   10 slots for the heads, without order. There are
   $$
   \binom{10}{7} = \frac{10 \times 9 \times 8}{3 \times 2 \times 1} = 120 \
   \text{outcomes}   $$
   \end{description}

   \end{block}
   \end{frame}

   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   \begin{frame} \frametitle{Binomial formula}

   \begin{block}
   {Example (continued)}

   \begin{description}
   \item[Q]    What are the chances when flipping a coin 10 times that there
   are 7 heads?

   \item[A] We know that there are 120 such outcomes and each has probability
   $(1/2)^{10}$ (Why?). The chances are therefore
   $$
   120 \times \left(\frac{1}{2} \right)^{10} \approx 11 \%.
   $$
   \end{description}

   \end{block}
   \end{frame}

   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   \begin{frame} \frametitle{Binomial formula}

   \begin{block}
   {Example}
   \begin{description}
   \item[Q] When rolling a fair die 20 times, what are the chances
   that you will roll exactly 5 $\epsdice{1}$'s?

   \item[A] There are $\binom{20}{5} = 15504$ such outcomes (use a calculator).
   Each outcome has probability $(\frac{1}{6})^5 (\frac{5}{6})^{15}$.
   Therefore, the chances are
   $$
   \binom{20}{5} \left(\frac{1}{6} \right)^5 \left(\frac{5}{6} \right)^{15} \approx 12\%.
   $$
   \end{description}
   \end{block}
   \end{frame}

   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   \begin{frame} \frametitle{Binomial formula}

   \begin{block}
   {Independent trials}
   \begin{enumerate}
   \item A {\em trial} is an experiment with two possible outcomes:
   {\color{pink} \em success} or {\color{yellow} \em failure}.
   \item The same experiment is repeated {\em independently}.
   \item Each time the experiment is repeated, the chances of success are the
   same: ${\color{pink} p}$.
   \end{enumerate}
   \end{block}

   \begin{block}
   {Binomial formula for computing probabilities}
   When performing $n$ independent trials, each
   with probability of success $p$, the probability
   of observing exactly $k$ successes is
   $$
   \binom{n}{ k} { p^k} {(1-p)^ {n-k}} = \binom{n}{{\color{pink} k}} {\color{pink} p^k} {\color{yellow}(1-p)^ {n-k}}
   $$
   \end{block}
   \end{frame}

   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   \begin{frame} \frametitle{Roulette}

   \begin{figure}
   \centering
   \resizebox{!}{1.6in}{\includegraphics{figs/binomial/roulette}}
   \end{figure}
   \end{frame}

   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   \begin{frame} \frametitle{Binomial formula}

   \begin{block}
   {Example}
   \begin{description}

   \item[Q] Suppose we bet on {\color{red} 5} for 6 spins of the roulette wheel.
   What are the chances we win exactly 3 times?

   \item[Step 1] Make a box model.
   \item[Step 2] For your box, compute the probability of success of each trial. Call this $p$.
   \item[A] The answer is
   $$
   \binom{6}{3} p^3 (1-p)^3.
   $$
   \end{description}
   \end{block}
   \end{frame}

   %CODE
       % from matplotlib import rc
   % import pylab, numpy as np, sys
   % np.random.seed(0);import random; random.seed(0)
   % dx = 0.02
   % X, Y = np.mgrid[0.2:0.8:5j,0:1:8j]
   % X += np.random.uniform(0,1,X.shape) * dx - dx / 2
   % Y += np.random.uniform(0,1,Y.shape) * dx - dx / 2
   % tt = range(1,37) + ['0', '00']
   % black = [2,4,6,8,10,11,13,15,17,19,20,22,24,26,29,31,33,35]
   % red = sorted(set(range(1,37)).difference(black))
   % black = list(np.array(black)-1)
   % red = list(np.array(red)-1)
   % green = [36,37]
   % #np.random.shuffle(tt)
   % X.shape = -1; Y.shape = -1
   % pylab.scatter(X[:38][black],Y[:38][black],s=500, c='gray', alpha=0.8)
   % pylab.scatter(X[:38][red],Y[:38][red],s=500, c='red', alpha=0.5)
   % pylab.scatter(X[:38][green],Y[:38][green],s=500, c='green', alpha=0.5)
   % t = range(1,37) + ['0', '00']
   % for i, t in enumerate(tt):
   %     pylab.text(X[i], Y[i], t, color='black', ha='center', va='center')
   % 
   % pylab.gca().set_xticks([])
   % pylab.gca().set_yticks([])
   % pylab.gca().set_xlim([X.min()-0.1,X.max()+0.1])
   % pylab.gca().set_ylim([Y.min()-0.1,Y.max()+0.2])
   % 


   \begin{frame}
   \frametitle{Roulette}
   \begin{center}
   \resizebox{!}{2.7in}{\includegraphics{./images/inline/c1876695b2.pdf}}    
   \end{center}
   Possible outcomes: balls numbered 1 to 36, plus [0, 00].
   \end{frame}

   %CODE
       % from matplotlib import rc
   % import pylab, numpy as np, sys
   % np.random.seed(0);import random; random.seed(0)
   % dx = 0.02
   % X, Y = np.mgrid[0.2:0.8:5j,0:1:8j]
   % X += np.random.uniform(0,1,X.shape) * dx - dx / 2
   % Y += np.random.uniform(0,1,Y.shape) * dx - dx / 2
   % ts = range(1,37) + ['0', '00']
   % tt = [('F', 'pink')] * 38
   % tt[ts.index(5)] = ('S', 'yellow')
   % #np.random.shuffle(tt)
   % X.shape = -1; Y.shape = -1
   % g = np.array([t[1] == 'pink' for t in tt])
   % pylab.scatter(X[:38][g],Y[:38][g],s=500, c='pink', alpha=0.5)
   % pylab.scatter(X[:38][~g],Y[:38][~g],s=500, c='yellow', alpha=0.5)
   % for i, t in enumerate(tt):
   %     pylab.text(X[i], Y[i], t[0], color='black', ha='center', va='center')
   % 
   % pylab.gca().set_xticks([])
   % pylab.gca().set_yticks([])
   % pylab.gca().set_xlim([X.min()-0.1,X.max()+0.1])
   % pylab.gca().set_ylim([Y.min()-0.1,Y.max()+0.2])
   % 


   \begin{frame}
   \frametitle{Roulette}
   \begin{center}
   \resizebox{!}{2.7in}{\includegraphics{./images/inline/5d974a84e0.pdf}}    
   \end{center}
   Betting on {\color{red} 5}: only one ball is a success.
   \end{frame}

   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   \begin{frame} \frametitle{Binomial formula}

   \begin{block}
   {Example (continued)}
   \begin{description}

   \item[Q] Suppose we bet on {\color{red} 5} for 6 spins of the roulette wheel.
   What are the chances we win exactly 3 times?

   \item[Step 1] Make a box model.
   \item[Step 2] From the box model, we see that
   $$
   p = \frac{1}{38}
   $$
   \item[A] The answer is
   $$
   \binom{6}{3} \times \left(\frac{1}{38}\right)^3 \times \left( \frac{37}{38} \right)^3 \approx 0.03\%
   $$
   \end{description}
   \end{block}
   \end{frame}

   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   \begin{frame} \frametitle{Binomial formula}

   \begin{block}
   {Example}
   \begin{description}

   \item[Q] Suppose we bet on {\color{red} RED} for 8 spins of the roulette wheel.
   What are the chances we win exactly 2 times?

   \item[Step 1] Make a box model.
   \item[Step 2] For your box, compute the probability of success of each trial. Call this $p$.
   \item[A] The answer is
   $$
   \binom{8}{2} p^2 (1-p)^6.
   $$
   \end{description}
   \end{block}
   \end{frame}

   %CODE
       % from matplotlib import rc
   % import pylab, numpy as np, sys
   % np.random.seed(0);import random; random.seed(0)
   % dx = 0.02
   % X, Y = np.mgrid[0.2:0.8:5j,0:1:8j]
   % X += np.random.uniform(0,1,X.shape) * dx - dx / 2
   % Y += np.random.uniform(0,1,Y.shape) * dx - dx / 2
   % ts = range(1,37) + ['0', '00']
   % black = [2,4,6,8,10,11,13,15,17,19,20,22,24,26,29,31,33,35]
   % red = sorted(set(range(1,37)).difference(black))
   % black = list(np.array(black)-1)
   % red = list(np.array(red)-1)
   % tt = [('F', 'yellow')] * 38
   % for r in red:
   %     tt[r] = ('S', 'pink')
   % #np.random.shuffle(tt)
   % X.shape = -1; Y.shape = -1
   % g = np.array([t[1] == 'pink' for t in tt])
   % pylab.scatter(X[:38][g],Y[:38][g],s=500, c='pink', alpha=0.5)
   % pylab.scatter(X[:38][~g],Y[:38][~g],s=500, c='yellow', alpha=0.5)
   % for i, t in enumerate(tt):
   %     pylab.text(X[i], Y[i], t[0], color='black', ha='center', va='center')
   % 
   % pylab.gca().set_xticks([])
   % pylab.gca().set_yticks([])
   % pylab.gca().set_xlim([X.min()-0.1,X.max()+0.1])
   % pylab.gca().set_ylim([Y.min()-0.1,Y.max()+0.2])
   % 


   \begin{frame}
   \frametitle{Roulette}
   \begin{center}
   \resizebox{!}{2.7in}{\includegraphics{./images/inline/82ff703e2a.pdf}}    
   \end{center}
   Betting on {\color{red} RED}: 18 balls are success.
   \end{frame}

   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   \begin{frame} \frametitle{Binomial formula}

   \begin{block}
   {Example (continued)}
   \begin{description}

   \item[Q] Suppose we bet on {\color{red} RED} for 8 spins of the roulette wheel.
   What are the chances we win exactly 2 times?

   \item[Step 1] Make a box model.
   \item[Step 2] From the box model, we see that
   $$
   p = \frac{18}{38}
   $$
   \item[A] The answer is
   $$
   \binom{8}{2} \times \left(\frac{18}{38}\right)^2 \times \left( \frac{20}{38} \right)^6 \approx 13\%
   $$
   \end{description}
   \end{block}
   \end{frame}

   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   \begin{frame} \frametitle{Binomial formula}

   \begin{block}
   {Example (continued)}
   \begin{description}

   \item[Q] Suppose we bet on {\color{red} RED} for 8 spins of the roulette wheel.
   What are the chances we win less than or equal to 2 times?

   \item[A] To win less than or equal to 2 times, we can win 0, 1 or 2 times.
   These events are mutually exclusive. So the chances are
   $$
   \begin{aligned}
   \lefteqn{\binom{8}{2} \times \left(\frac{18}{38}\right)^2 \times \left( \frac{20}{38} \right)^6} \\
   & \qquad + \ \binom{8}{1} \times \left(\frac{18}{38}\right)^1 \times \left( \frac{20}{38} \right)^7 \\
   & \qquad + \ \binom{8}{0} \times \left(\frac{18}{38}\right)^0 \times \left( \frac{20}{38} \right)^8 \\
   & \approx 18 \%
   \end{aligned}
   $$
   \end{description}
   \end{block}
   \end{frame}

   %CODE
       % from matplotlib import rc
   % import pylab, numpy as np, sys
   % np.random.seed(0);import random; random.seed(0)
   % dx = 0.02
   % X, Y = np.mgrid[0.2:0.8:5j,0:1:8j]
   % X += np.random.uniform(0,1,X.shape) * dx - dx / 2
   % Y += np.random.uniform(0,1,Y.shape) * dx - dx / 2
   % ts = range(1,37) + ['0', '00']
   % black = [2,4,6,8,10,11,13,15,17,19,20,22,24,26,29,31,33,35]
   % red = sorted(set(range(1,37)).difference(black))
   % black = list(np.array(black)-1)
   % red = list(np.array(red)-1)
   % tt = [('-10\$', 'yellow')] * 38
   % for r in red:
   %     tt[r] = ('+10\$', 'pink')
   % #np.random.shuffle(tt)
   % X.shape = -1; Y.shape = -1
   % g = np.array([t[1] == 'pink' for t in tt])
   % pylab.scatter(X[:38][g],Y[:38][g],s=700, c='pink', alpha=0.5)
   % pylab.scatter(X[:38][~g],Y[:38][~g],s=700, c='yellow', alpha=0.5)
   % for i, t in enumerate(tt):
   %     pylab.text(X[i], Y[i], t[0], color='black', ha='center', va='center',
   %                fontsize=10)
   % 
   % pylab.gca().set_xticks([])
   % pylab.gca().set_yticks([])
   % pylab.gca().set_xlim([X.min()-0.1,X.max()+0.1])
   % pylab.gca().set_ylim([Y.min()-0.1,Y.max()+0.2])
   % 


   \begin{frame}
   \frametitle{Box model for winnings}
   \begin{center}
   \resizebox{!}{2.7in}{\includegraphics{./images/inline/464f4874b4.pdf}}    
   \end{center}
   Betting 10\$ on {\color{red} RED}: win 10\$ with probability 9/19.
   \end{frame}

   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   \begin{frame} \frametitle{Binomial formula}

   \begin{block}
   {Drawing without replacement}

   \begin{description}
   \item[Q]  Suppose we go back to Box \# 1 with 30 blue balls and
   20 red balls. When drawing 5 balls without replacement,
   what are the chances that we draw 3 red balls?


   \item[A] Let's count the number of subsets of size 5 of the balls
   with exactly 3 red balls in them. Call this number $N$. The answer is then
   $$
   \frac{N}{\text{number of subsets of size 5 from 50 balls}} = \frac{N}{\binom{50}{5}}
   $$
   \end{description}
   \end{block}
   \end{frame}

   %CODE
       % from matplotlib import rc
   % import pylab, numpy as np, sys
   % np.random.seed(0);import random; random.seed(0)
   % dx = 0.02
   % X, Y = np.mgrid[0:1:5j,0:1:10j]
   % X += np.random.uniform(0,1,X.shape) * dx - dx / 2
   % Y += np.random.uniform(0,1,Y.shape) * dx - dx / 2
   % 
   % X.shape = -1; Y.shape = -1
   % 
   % g = np.arange(50)
   % pylab.scatter(X[g[:30]],Y[g[:30]],s=300, c='b')
   % pylab.scatter(X[g[30:]],Y[g[30:]],s=300, c='r')
   % pylab.gca().set_xticks([])
   % pylab.gca().set_yticks([])
   % pylab.gca().set_xlim([X.min()-0.1,X.max()+0.1])
   % pylab.gca().set_ylim([Y.min()-0.1,Y.max()+0.1])
   % 


   \begin{frame}
   \frametitle{Box \# 1: 30 blue, 20 red}
   \begin{center}
   \resizebox{!}{2.7in}{\includegraphics{./images/inline/d89adb345e.pdf}}    
   \end{center}

   \end{frame}

   %CODE
       % from matplotlib import rc
   % import pylab, numpy as np, sys
   % np.random.seed(0);import random; random.seed(0)
   % dx = 0.02
   % X, Y = np.mgrid[0:1:5j,0:1:10j]
   % X += np.random.uniform(0,1,X.shape) * dx - dx / 2
   % Y += np.random.uniform(0,1,Y.shape) * dx - dx / 2
   % 
   % X.shape = -1; Y.shape = -1
   % 
   % g = np.arange(50)
   % pylab.scatter(X[g[:30]],Y[g[:30]],s=300, c='b', alpha=0.5)
   % pylab.scatter(X[g[30:]],Y[g[30:]],s=300, c='r', alpha=0.5)
   % for i in range(50):
   %     pylab.text(X[i], Y[i], i+1, ha='center', va='center')
   % pylab.gca().set_xticks([])
   % pylab.gca().set_yticks([])
   % pylab.gca().set_xlim([X.min()-0.1,X.max()+0.1])
   % pylab.gca().set_ylim([Y.min()-0.1,Y.max()+0.1])
   % 


   \begin{frame}
   \frametitle{Box \# 1: 30 blue, 20 red}
   \begin{center}
   \resizebox{!}{2.7in}{\includegraphics{./images/inline/74792f3f6f.pdf}}    
   \end{center}
   Let's number the balls to emphasize they're distinct.
   \end{frame}

   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   \begin{frame} \frametitle{Binomial formula}

   \begin{block}
   {Drawing without replacement}

   \begin{description}
   \item[Step 1] There are ${\color{red} \binom{20}{3}}$ ways of choosing
   3 of the red balls, i.e. 3 of the balls numbered 31 to 50.

   \item[Step 2] There are ${\color{blue} \binom{30}{2}}$ ways of choosing
   2 of the blue balls, i.e. 2 of the balls numbered 1 to 30.

   \item[Step 3] The answer is
     $$
     \frac{{\color{red} \binom{20}{3}}{\color{blue} \binom{30}{2}}}{\binom{50}{5}} \approx  23\%
     $$


   \end{description}
   \end{block}
   \end{frame}

   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   \begin{frame} 

   \end{frame}

   \end{document}
